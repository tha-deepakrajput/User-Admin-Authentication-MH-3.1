<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auth & Tasks</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background-color: #f4f4f4; }
    input, button { margin: 0.5rem 0; padding: 0.5rem; width: 100%; }
    section { background: white; padding: 1rem; margin-bottom: 2rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    h2 { margin-top: 0; }
    .task { border-bottom: 1px solid #ccc; padding: 0.5rem 0; }
  </style>
</head>
<body>
  <% if (user) { %>
  <section>
    <h2>Create Task</h2>
    <form action="/tasks" method="POST">
      <input type="text" name="title" placeholder="Task Title" required />
      <input type="text" name="description" placeholder="Task Description (optional)" />
      <button type="submit">Create Task</button>
    </form>
  </section>

  <section>
    <h2>Your Tasks</h2>
    <% if (tasks.length === 0) { %>
      <p>No tasks found.</p>
    <% } else { %>
      <% tasks.forEach(task => { %>
        <div class="task">
          <strong><%= task.title %></strong><br>
          <%= task.description %>
        </div>
      <% }) %>
    <% } %>
  </section>
  <% } %>
</body>
</html>
